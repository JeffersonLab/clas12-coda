Hi Sergey.

I've put the libraries for the CTP (TID) and SSP here:

/site/coda/2.6.1/extensions/HPS/tid/
/site/coda/2.6.1/extensions/HPS/ssp/

For initialization (download), add these routines (arguments to be 
determined):

CTP (after ctpInit... only remove the routines regarding 
FinalSumThreshold and add these ones instead):
   ctpSetClusterMinimumThreshold(unsigned int thres);
   ctpSetClusterWindow(unsigned int window);

SSP:
   sspInit_HPS(unsigned int addr_a24);
   sspSetCoincidence(unsigned int window);
   sspSetEnergySumMaximum(unsigned int max);
   sspSetPairEnergyDifferenceMaximum(unsigned int max);
   sspSetPairEnergyDistanceThreshold(unsigned int thres);
   sspSetEnergyMaximum(unsigned int max);
   sspSetEnergyMinimum(unsigned int min);
   sspSetClusterDelay(unsigned int delay);
   sspSetTriggerLatency(unsigned int late);
   sspSetTriggerCutEnableMask(unsigned int mask);

Then... in prestart, after the FADC clocks have been set to P0,
   ctpFiberLinkReset();
